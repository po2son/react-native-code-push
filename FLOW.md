# CodePush Multi-Patch Update Flow
# ë‹¤ì¤‘ íŒ¨ì¹˜ ì—…ë°ì´íŠ¸ ì „ì²´ í”„ë¡œì„¸ìŠ¤

===============================================================================
## 1. ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš”
===============================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CodePush Server                              â”‚
â”‚  - ì—…ë°ì´íŠ¸ ì²´í¬ API: /v0.1/public/codepush/update_check           â”‚
â”‚  - íŒ¨ì¹˜ íŒŒì¼ ì œê³µ: download_url, patches[].url                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“ HTTP GET
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      JavaScript Layer (React Native)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 1. acquisition-sdk.js (node_modules/code-push/script/)      â”‚    â”‚
â”‚  â”‚    - queryUpdateWithCurrentPackage()                        â”‚    â”‚
â”‚  â”‚    - ì„œë²„ ì‘ë‹µ íŒŒì‹± ë° í•„ë“œ ë³µì‚¬                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                â†“                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 2. CodePush.js                                              â”‚    â”‚
â”‚  â”‚    - checkForUpdate()                                       â”‚    â”‚
â”‚  â”‚    - sync()                                                 â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                â†“                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ 3. package-mixins.js                                        â”‚    â”‚
â”‚  â”‚    - remotePackage.download()                               â”‚    â”‚
â”‚  â”‚    - patches ë°°ì—´ ë¡œê¹…                                      â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“ Native Bridge
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Native Layer (Android/iOS)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ 4. CodePushUpdateManager                                    â”‚    â”‚
â”‚  â”‚    - downloadPackage()                                      â”‚    â”‚
â”‚  â”‚    - downloadAndApplyMultiplePatches() [NEW]                â”‚    â”‚
â”‚  â”‚    - downloadSinglePatch() [NEW]                            â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         File System                                  â”‚
â”‚  - /CodePush/{packageHash}/                                          â”‚
â”‚  - /CodePush/temp_multi_patch/                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


===============================================================================
## 2. ìƒì„¸ í”Œë¡œìš° ì°¨íŠ¸ (Multi-Patch Update)
===============================================================================

[ì•± ì‹œì‘]
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CodePush.sync() í˜¸ì¶œ                     â”‚
â”‚ - InstallMode: ON_NEXT_RESTART          â”‚
â”‚ - updateDialog: true/false              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ checkForUpdate()                         â”‚
â”‚ File: CodePush.js:11                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NativeCodePush.getConfiguration()        â”‚
â”‚ - deploymentKey                         â”‚
â”‚ - appVersion (e.g., "1.0")              â”‚
â”‚ - packageHash (current)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ getCurrentPackage()                      â”‚
â”‚ - í˜„ì¬ ì„¤ì¹˜ëœ íŒ¨í‚¤ì§€ ì •ë³´ ì¡°íšŒ           â”‚
â”‚ - label: "v1.0.10"                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ sdk.queryUpdateWithCurrentPackage()      â”‚
â”‚ File: acquisition-sdk.js:32             â”‚
â”‚                                         â”‚
â”‚ Request:                                â”‚
â”‚   GET /update_check?                    â”‚
â”‚     deployment_key={key}&               â”‚
â”‚     app_version=1.0&                    â”‚
â”‚     package_hash={current_hash}&        â”‚
â”‚     label=v1.0.10                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì„œë²„ ì‘ë‹µ (Server Response)                                     â”‚
â”‚                                                                 â”‚
â”‚ {                                                              â”‚
â”‚   "update_info": {                                             â”‚
â”‚     "is_available": true,                                      â”‚
â”‚     "download_url": "https://server/v1.0.15/full.zip",         â”‚
â”‚     "package_hash": "abc123...",                               â”‚
â”‚     "package_size": 653553,                                    â”‚
â”‚     "label": "v1.0.15",                                        â”‚
â”‚     "target_binary_range": "1.0",                              â”‚
â”‚     "description": "Bug fixes",                                â”‚
â”‚     "is_mandatory": true,                                      â”‚
â”‚     "update_app_version": false,                               â”‚
â”‚                                                                 â”‚
â”‚     // ===== Multi-Patch ì¶”ê°€ í•„ë“œ =====                        â”‚
â”‚     "current_label": "v1.0.10",                                â”‚
â”‚     "patches": [                                               â”‚
â”‚       {                                                         â”‚
â”‚         "from_label": "v1.0.10",                               â”‚
â”‚         "to_label": "v1.0.11",                                 â”‚
â”‚         "url": "https://server/v1.0.11/diff.zip",              â”‚
â”‚         "hash": "def456...",                                   â”‚
â”‚         "size": 12345                                          â”‚
â”‚       },                                                        â”‚
â”‚       {                                                         â”‚
â”‚         "from_label": "v1.0.11",                               â”‚
â”‚         "to_label": "v1.0.12",                                 â”‚
â”‚         "url": "https://server/v1.0.12/diff.zip",              â”‚
â”‚         "hash": "ghi789...",                                   â”‚
â”‚         "size": 23456                                          â”‚
â”‚       },                                                        â”‚
â”‚       // ... v1.0.13, v1.0.14, v1.0.15ê¹Œì§€                     â”‚
â”‚     ]                                                           â”‚
â”‚   }                                                            â”‚
â”‚ }                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ acquisition-sdk.js:89-98                â”‚
â”‚                                         â”‚
â”‚ // ===== í•µì‹¬ ë³€ê²½ ì‚¬í•­ =====            â”‚
â”‚ var remotePackage =                     â”‚
â”‚   Object.assign({}, updateInfo, {      â”‚
â”‚     deploymentKey: ...,                â”‚
â”‚     appVersion: ...,                   â”‚
â”‚     isMandatory: ...,                  â”‚
â”‚     // patches ë°°ì—´ë„ ìë™ í¬í•¨!        â”‚
â”‚   });                                  â”‚
â”‚                                         â”‚
â”‚ callback(null, remotePackage);         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CodePush.js:89                          â”‚
â”‚                                         â”‚
â”‚ const remotePackage = {                â”‚
â”‚   ...update,  // patches í¬í•¨           â”‚
â”‚   ...PackageMixins.remote(...)         â”‚
â”‚ };                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ package-mixins.js:28-40                 â”‚
â”‚                                         â”‚
â”‚ // ë‹¤ì¤‘ íŒ¨ì¹˜ ê°ì§€ ë¡œê·¸                   â”‚
â”‚ if (patches && patches.length > 0) {   â”‚
â”‚   log("[CodePush] Multi-patch: " +    â”‚
â”‚       patches.length + " patches");    â”‚
â”‚   patches.forEach((patch, idx) => {    â”‚
â”‚     log(`Patch ${idx+1}: ` +          â”‚
â”‚         `${patch.from_label} -> ` +   â”‚
â”‚         `${patch.to_label}`);         â”‚
â”‚   });                                  â”‚
â”‚ }                                      â”‚
â”‚                                         â”‚
â”‚ const updatePackageCopy =              â”‚
â”‚   Object.assign({}, this);             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Native Bridge                           â”‚
â”‚ NativeCodePush.downloadUpdate(          â”‚
â”‚   updatePackageCopy,                    â”‚
â”‚   progressCallback                      â”‚
â”‚ )                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ANDROID NATIVE]                        â”‚
â”‚ CodePushUpdateManager.java              â”‚
â”‚ downloadPackage()                       â”‚
â”‚ Line: 146-321                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
    â”œâ”€â”€â”€ patches ë°°ì—´ ì²´í¬ (Line 159-167)
    â”‚
    â”œâ”€ [Case 1: patches ìˆìŒ] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                                                        â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ downloadAndApplyMultiplePatches()               â”‚  â”‚
    â”‚  â”‚ Line: 323-425                                   â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 1. ì„ì‹œ ì‘ì—… í´ë” ìƒì„±                          â”‚  â”‚
    â”‚  â”‚    /CodePush/temp_multi_patch/                  â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 2. í˜„ì¬ íŒ¨í‚¤ì§€ ë³µì‚¬ (Base)                      â”‚  â”‚
    â”‚  â”‚    currentPackage (v1.0.10)                     â”‚  â”‚
    â”‚  â”‚    â†’ workingFolder                              â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 3. ì „ì²´ íŒ¨ì¹˜ í¬ê¸° ê³„ì‚°                          â”‚  â”‚
    â”‚  â”‚    totalBytesExpected =                        â”‚  â”‚
    â”‚  â”‚      patch1.size + patch2.size + ...            â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 4. FOR LOOP: ê° íŒ¨ì¹˜ ìˆœì°¨ ì²˜ë¦¬                  â”‚  â”‚
    â”‚  â”‚    patches.forEach((patch, i) => {              â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 4-1. downloadSinglePatch()                      â”‚  â”‚
    â”‚  â”‚      Line: 427-499                              â”‚  â”‚
    â”‚  â”‚                                                  â”‚  â”‚
    â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
    â”‚  â”‚  â”‚ - HttpURLConnection ìƒì„±                  â”‚  â”‚  â”‚
    â”‚  â”‚  â”‚ - TLS ì„¤ì • (í•„ìš”ì‹œ)                       â”‚  â”‚  â”‚
    â”‚  â”‚  â”‚ - BufferedInputStream                     â”‚  â”‚  â”‚
    â”‚  â”‚  â”‚ - ë‹¤ìš´ë¡œë“œ: patch_{i}.zip                 â”‚  â”‚  â”‚
    â”‚  â”‚  â”‚ - ì§„í–‰ë¥  ì½œë°±:                            â”‚  â”‚  â”‚
    â”‚  â”‚  â”‚   totalReceived = bytesReceivedSoFar +    â”‚  â”‚  â”‚
    â”‚  â”‚  â”‚                  currentPatchReceived     â”‚  â”‚  â”‚
    â”‚  â”‚  â”‚   progressCallback(                       â”‚  â”‚  â”‚
    â”‚  â”‚  â”‚     totalBytesExpected,                   â”‚  â”‚  â”‚
    â”‚  â”‚  â”‚     totalReceived                         â”‚  â”‚  â”‚
    â”‚  â”‚  â”‚   )                                       â”‚  â”‚  â”‚
    â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
    â”‚  â”‚      â†“                                          â”‚  â”‚
    â”‚  â”‚      return downloadFile                       â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 4-2. ì••ì¶• í•´ì œ                                  â”‚  â”‚
    â”‚  â”‚      FileUtils.unzipFile(                       â”‚  â”‚
    â”‚  â”‚        patchFile,                               â”‚  â”‚
    â”‚  â”‚        patchUnzipPath  // patch_0, patch_1...   â”‚  â”‚
    â”‚  â”‚      )                                          â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 4-3. tempResult í´ë” ìƒì„±                       â”‚  â”‚
    â”‚  â”‚      result_0, result_1, ...                    â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 4-4. Diff Manifest í™•ì¸ ë° ì ìš©                 â”‚  â”‚
    â”‚  â”‚                                                  â”‚  â”‚
    â”‚  â”‚  if (diffManifest ì¡´ì¬) {                       â”‚  â”‚
    â”‚  â”‚    copyNecessaryFilesFromCurrentPackage(        â”‚  â”‚
    â”‚  â”‚      diffManifestPath,                          â”‚  â”‚
    â”‚  â”‚      workingFolder,    // source                â”‚  â”‚
    â”‚  â”‚      tempResultPath    // destination           â”‚  â”‚
    â”‚  â”‚    )                                            â”‚  â”‚
    â”‚  â”‚    // â†‘ ì¤‘ìš”: source â‰  destination!             â”‚  â”‚
    â”‚  â”‚                                                  â”‚  â”‚
    â”‚  â”‚    ë™ì‘:                                        â”‚  â”‚
    â”‚  â”‚    1. workingFolder ì „ì²´ ë³µì‚¬ â†’ tempResult     â”‚  â”‚
    â”‚  â”‚    2. diffManifestì˜ deletedFiles[] ì‚­ì œ       â”‚  â”‚
    â”‚  â”‚  }                                              â”‚  â”‚
    â”‚  â”‚  else {                                         â”‚  â”‚
    â”‚  â”‚    // Full update                               â”‚  â”‚
    â”‚  â”‚    copyDirectoryContents(                       â”‚  â”‚
    â”‚  â”‚      workingFolder,                             â”‚  â”‚
    â”‚  â”‚      tempResultPath                             â”‚  â”‚
    â”‚  â”‚    )                                            â”‚  â”‚
    â”‚  â”‚  }                                              â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 4-5. íŒ¨ì¹˜ ë‚´ìš© ë³‘í•©                             â”‚  â”‚
    â”‚  â”‚      copyDirectoryContents(                     â”‚  â”‚
    â”‚  â”‚        patchUnzipPath,   // ìƒˆ íŒŒì¼ë“¤           â”‚  â”‚
    â”‚  â”‚        tempResultPath    // ë®ì–´ì“°ê¸°            â”‚  â”‚
    â”‚  â”‚      )                                          â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 4-6. workingFolder êµì²´                         â”‚  â”‚
    â”‚  â”‚      deleteDirectory(workingFolder)             â”‚  â”‚
    â”‚  â”‚      copyDirectoryContents(                     â”‚  â”‚
    â”‚  â”‚        tempResultPath,                          â”‚  â”‚
    â”‚  â”‚        workingFolder                            â”‚  â”‚
    â”‚  â”‚      )                                          â”‚  â”‚
    â”‚  â”‚      // â†‘ ë‹¤ìŒ íŒ¨ì¹˜ì˜ ë² ì´ìŠ¤ê°€ ë¨!              â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 4-7. ì„ì‹œ í´ë” ì •ë¦¬                             â”‚  â”‚
    â”‚  â”‚      delete patchUnzipPath                      â”‚  â”‚
    â”‚  â”‚      delete tempResultPath                      â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚      } // END FOR LOOP                                â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 5. ìµœì¢… ê²°ê³¼ ì´ë™                               â”‚  â”‚
    â”‚  â”‚    workingFolder â†’ finalUpdateFolderPath        â”‚  â”‚
    â”‚  â”‚    /CodePush/{final_package_hash}/              â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 6. JS Bundle ì°¾ê¸°                               â”‚  â”‚
    â”‚  â”‚    findJSBundleInUpdateContents(                â”‚  â”‚
    â”‚  â”‚      finalUpdateFolderPath,                     â”‚  â”‚
    â”‚  â”‚      expectedBundleFileName                     â”‚  â”‚
    â”‚  â”‚    )                                            â”‚  â”‚
    â”‚  â”‚    â†’ relativeBundlePath                         â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 7. ê²€ì¦ (Verification)                          â”‚  â”‚
    â”‚  â”‚                                                  â”‚  â”‚
    â”‚  â”‚  if (stringPublicKey ì¡´ì¬) {                    â”‚  â”‚
    â”‚  â”‚    // ì„œëª… ê²€ì¦ í•„ìš”                            â”‚  â”‚
    â”‚  â”‚    if (signature íŒŒì¼ ì¡´ì¬) {                   â”‚  â”‚
    â”‚  â”‚      verifyFolderHash(...)                      â”‚  â”‚
    â”‚  â”‚      verifyUpdateSignature(...)                 â”‚  â”‚
    â”‚  â”‚    } else {                                     â”‚  â”‚
    â”‚  â”‚      throw Exception("ì„œëª… ì—†ìŒ")               â”‚  â”‚
    â”‚  â”‚    }                                            â”‚  â”‚
    â”‚  â”‚  } else {                                       â”‚  â”‚
    â”‚  â”‚    // í•´ì‹œë§Œ ê²€ì¦                               â”‚  â”‚
    â”‚  â”‚    verifyFolderHash(...)                        â”‚  â”‚
    â”‚  â”‚  }                                              â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 8. ë©”íƒ€ë°ì´í„° ì €ì¥                              â”‚  â”‚
    â”‚  â”‚    updatePackage.relativeBundlePath = ...       â”‚  â”‚
    â”‚  â”‚    writeJsonToFile(                             â”‚  â”‚
    â”‚  â”‚      updatePackage,                             â”‚  â”‚
    â”‚  â”‚      finalUpdateMetadataPath                    â”‚  â”‚
    â”‚  â”‚    )                                            â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
    â”‚  â”‚ 9. ì •ë¦¬ (finally)                               â”‚  â”‚
    â”‚  â”‚    deleteDirectory(temp_multi_patch)            â”‚  â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚      â†“                                                â”‚
    â”‚      RETURN                                           â”‚
    â”‚                                                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚
    â””â”€ [Case 2: patches ì—†ìŒ - ë‹¨ì¼ íŒ¨ì¹˜] â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                                             â”‚
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
       â”‚ ê¸°ì¡´ ë¡œì§ (Line 170-320)                        â”‚   â”‚
       â”‚ - download_urlë¡œ ë‹¨ì¼ íŒŒì¼ ë‹¤ìš´ë¡œë“œ             â”‚   â”‚
       â”‚ - ì••ì¶• í•´ì œ                                    â”‚   â”‚
       â”‚ - diff ì ìš© (ìˆìœ¼ë©´)                           â”‚   â”‚
       â”‚ - ê²€ì¦                                         â”‚   â”‚
       â”‚ - ë©”íƒ€ë°ì´í„° ì €ì¥                              â”‚   â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
           â†“                                                 â”‚
           RETURN                                            â”‚
                                                             â”‚
       â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Native â†’ JS Bridge                      â”‚
â”‚ downloadedPackage ë°˜í™˜                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ package-mixins.js:41                    â”‚
â”‚                                         â”‚
â”‚ return {                                â”‚
â”‚   ...downloadedPackage,                â”‚
â”‚   ...local  // install ë©”ì„œë“œ ì¶”ê°€      â”‚
â”‚ };                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ localPackage.install()                  â”‚
â”‚ package-mixins.js:49-63                 â”‚
â”‚                                         â”‚
â”‚ - installMode:                          â”‚
â”‚   - IMMEDIATE: ì¦‰ì‹œ ì¬ì‹œì‘              â”‚
â”‚   - ON_NEXT_RESTART: ë‹¤ìŒ ì‹œì‘ ì‹œ       â”‚
â”‚   - ON_NEXT_RESUME: ë°±ê·¸ë¼ìš´ë“œ ë³µê·€ ì‹œ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NativeCodePush.installUpdate()          â”‚
â”‚ - ë©”íƒ€ë°ì´í„° ì—…ë°ì´íŠ¸                    â”‚
â”‚ - pending ìƒíƒœë¡œ í‘œì‹œ                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ì•± ì¬ì‹œì‘]                              â”‚
â”‚ - ìƒˆ ë²„ì „ (v1.0.15) ì ìš©ë¨               â”‚
â”‚ - ì¬ì‹œì‘ íšŸìˆ˜: 1íšŒ!                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


===============================================================================
## 3. íŒŒì¼ ì‹œìŠ¤í…œ êµ¬ì¡°
===============================================================================

/data/data/{app.package}/files/CodePush/
â”‚
â”œâ”€ [ì‘ì—… ì „]
â”‚  â”œâ”€ {old_hash}/                     # í˜„ì¬ ë²„ì „ (v1.0.10)
â”‚  â”‚  â”œâ”€ index.bundle
â”‚  â”‚  â”œâ”€ assets/
â”‚  â”‚  â””â”€ CodePushHash
â”‚  â”‚
â”‚  â””â”€ codepush.json                   # ë©”íƒ€ë°ì´í„°
â”‚
â”œâ”€ [ë‹¤ìš´ë¡œë“œ ì¤‘]
â”‚  â”œâ”€ temp_multi_patch/               # ì„ì‹œ ì‘ì—… í´ë”
â”‚  â”‚  â”œâ”€ workingFolder/               # ëˆ„ì  ë³‘í•© ê²°ê³¼
â”‚  â”‚  â”‚  â”œâ”€ index.bundle
â”‚  â”‚  â”‚  â””â”€ assets/
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ patch_0.zip                  # ë‹¤ìš´ë¡œë“œëœ íŒ¨ì¹˜
â”‚  â”‚  â”œâ”€ patch_0/                     # ì••ì¶• í•´ì œ
â”‚  â”‚  â”‚  â”œâ”€ index.bundle (ë³€ê²½)
â”‚  â”‚  â”‚  â”œâ”€ hotcodepush.json
â”‚  â”‚  â”‚  â””â”€ .codepushrelease
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ result_0/                    # diff ì ìš© ê²°ê³¼
â”‚  â”‚  â”‚  â””â”€ (v1.0.11 ì™„ì„±)
â”‚  â”‚  â”‚
â”‚  â”‚  â”œâ”€ patch_1.zip
â”‚  â”‚  â”œâ”€ patch_1/
â”‚  â”‚  â”œâ”€ result_1/
â”‚  â”‚  â”‚  â””â”€ (v1.0.12 ì™„ì„±)
â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€ ... (ê³„ì†)
â”‚  â”‚
â”‚  â””â”€ {old_hash}/                     # ê¸°ì¡´ ë²„ì „ ìœ ì§€
â”‚
â””â”€ [ì‘ì—… ì™„ë£Œ]
   â”œâ”€ {new_hash}/                     # ìµœì¢… ë²„ì „ (v1.0.15)
   â”‚  â”œâ”€ index.bundle
   â”‚  â”œâ”€ assets/
   â”‚  â”œâ”€ CodePushHash
   â”‚  â””â”€ .codepushrelease
   â”‚
   â”œâ”€ {old_hash}/                     # previousë¡œ ìœ ì§€ (ë¡¤ë°±ìš©)
   â”‚
   â””â”€ codepush.json                   # ì—…ë°ì´íŠ¸ë¨
      {
        "currentPackage": "{new_hash}",
        "previousPackage": "{old_hash}"
      }


===============================================================================
## 4. Diff Manifest êµ¬ì¡° ë° ì ìš© ë°©ì‹
===============================================================================

### hotcodepush.json (Diff Manifest)
```json
{
  "deletedFiles": [
    "assets/old_image.png",
    "lib/deprecated.js"
  ]
}
```

### ì ìš© ê³¼ì •:
```
1. workingFolder (v1.0.10) ë³µì‚¬ â†’ tempResult
   tempResult/
   â”œâ”€ index.bundle
   â”œâ”€ assets/
   â”‚  â”œâ”€ old_image.png      â† ì‚­ì œ ëŒ€ìƒ
   â”‚  â””â”€ logo.png
   â””â”€ lib/
      â”œâ”€ deprecated.js       â† ì‚­ì œ ëŒ€ìƒ
      â””â”€ util.js

2. deletedFiles[] ì²˜ë¦¬
   tempResult/
   â”œâ”€ index.bundle
   â”œâ”€ assets/
   â”‚  â””â”€ logo.png            â† old_image.png ì‚­ì œë¨
   â””â”€ lib/
      â””â”€ util.js             â† deprecated.js ì‚­ì œë¨

3. patch ë‚´ìš© ë³‘í•©
   patchUnzipPath/
   â”œâ”€ index.bundle           â† ìƒˆ ë²„ì „
   â”œâ”€ assets/
   â”‚  â””â”€ new_image.png       â† ìƒˆ íŒŒì¼
   â””â”€ lib/
      â””â”€ new_feature.js      â† ìƒˆ íŒŒì¼

   â†’ tempResultë¡œ ë³µì‚¬ (ë®ì–´ì“°ê¸°)

4. ìµœì¢… ê²°ê³¼ (v1.0.11)
   tempResult/
   â”œâ”€ index.bundle           â† ì—…ë°ì´íŠ¸ë¨
   â”œâ”€ assets/
   â”‚  â”œâ”€ logo.png            â† ìœ ì§€
   â”‚  â””â”€ new_image.png       â† ì¶”ê°€
   â””â”€ lib/
      â”œâ”€ util.js             â† ìœ ì§€
      â””â”€ new_feature.js      â† ì¶”ê°€
```


===============================================================================
## 5. í•µì‹¬ ì½”ë“œ ìœ„ì¹˜ ì •ë¦¬
===============================================================================

### JavaScript Layer
```
node_modules/code-push/script/acquisition-sdk.js
  - Line 89-98: remotePackage ìƒì„± (Object.assignìœ¼ë¡œ ëª¨ë“  í•„ë“œ ë³µì‚¬)
  - Line 32-100: queryUpdateWithCurrentPackage()

CodePush.js
  - Line 11-89: checkForUpdate()
  - Line 288-450: sync()

package-mixins.js
  - Line 8-44: remotePackage.download()
  - Line 28-40: patches ë°°ì—´ ë¡œê¹… (ì¶”ê°€ë¨)
  - Line 49-63: localPackage.install()
```

### Android Native
```
android/app/src/main/java/com/microsoft/codepush/react/CodePushUpdateManager.java
  - Line 146-321: downloadPackage() (patches ì²´í¬ ì¶”ê°€)
  - Line 323-425: downloadAndApplyMultiplePatches() [ì‹ ê·œ]
  - Line 427-499: downloadSinglePatch() [ì‹ ê·œ]

android/app/src/main/java/com/microsoft/codepush/react/CodePushUpdateUtils.java
  - Line 105-125: copyNecessaryFilesFromCurrentPackage()
  - Line 127-148: findJSBundleInUpdateContents()
  - Line 173-196: verifyFolderHash()
  - Line 241-267: verifyUpdateSignature()
```


===============================================================================
## 6. ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡¤ë°±
===============================================================================

### ì—ëŸ¬ ë°œìƒ ì‹œë‚˜ë¦¬ì˜¤:
1. ë„¤íŠ¸ì›Œí¬ ëŠê¹€ (ë‹¤ìš´ë¡œë“œ ì¤‘)
2. ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±
3. ì˜ëª»ëœ diff manifest
4. ì„œëª… ê²€ì¦ ì‹¤íŒ¨
5. í•´ì‹œ ë¶ˆì¼ì¹˜

### ì²˜ë¦¬ ë°©ì‹:
```
try {
  // ë‹¤ì¤‘ íŒ¨ì¹˜ ì²˜ë¦¬
} catch (Exception e) {
  // 1. ìµœì¢… í´ë” ì‚­ì œ
  if (finalUpdateFolderPath exists) {
    deleteDirectory(finalUpdateFolderPath)
  }
  
  // 2. ì—ëŸ¬ throw
  throw IOException("Multi-patch failed: " + e.message)
  
} finally {
  // 3. ì„ì‹œ í´ë” ì •ë¦¬ (í•­ìƒ ì‹¤í–‰)
  if (temp_multi_patch exists) {
    deleteDirectory(temp_multi_patch)
  }
}
```

### ë¡¤ë°±:
- ì—ëŸ¬ ë°œìƒ ì‹œ: ê¸°ì¡´ ë²„ì „ ìœ ì§€ (currentPackage ë³€ê²½ ì•ˆ ë¨)
- install() í›„ í¬ë˜ì‹œ: NativeCodePush.rollbackPackage() ìë™ í˜¸ì¶œ


===============================================================================
## 7. ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­
===============================================================================

### ë©”ëª¨ë¦¬:
- ì„ì‹œ í´ë” ì‚¬ìš©ìœ¼ë¡œ í”¼í¬ ë©”ëª¨ë¦¬ = ì•½ 2ë°°
  (workingFolder + tempResult)
- ê° íŒ¨ì¹˜ ì²˜ë¦¬ í›„ ì¦‰ì‹œ ì •ë¦¬

### ë””ìŠ¤í¬:
- í•„ìš” ê³µê°„ = currentPackage + ìµœëŒ€ íŒ¨ì¹˜ í¬ê¸° + ì‘ì—… ê³µê°„
- ì˜ˆ: 50MB ì•± + 5MB íŒ¨ì¹˜ + 10MB ì‘ì—… = ì•½ 65MB

### ë„¤íŠ¸ì›Œí¬:
- ìˆœì°¨ ë‹¤ìš´ë¡œë“œ (ë³‘ë ¬ X)
- ì´ìœ : ë©”ëª¨ë¦¬ ì ˆì•½, ìˆœì„œ ë³´ì¥
- ì§„í–‰ë¥ : ì „ì²´ íŒ¨ì¹˜ ê¸°ì¤€ ëˆ„ì  ê³„ì‚°

### ì‹œê°„:
- ë‹¨ì¼ íŒ¨ì¹˜: ~5ì´ˆ
- 5ê°œ íŒ¨ì¹˜: ~20-25ì´ˆ (ë‹¤ìš´ë¡œë“œ + ë³‘í•©)
- vs ê¸°ì¡´: 5ë²ˆ ì¬ì‹œì‘ = ì‚¬ìš©ì ê²½í—˜ ë§¤ìš° ë‚˜ì¨


===============================================================================
## 8. ê¸°ì¡´ ë°©ì‹ vs ìƒˆ ë°©ì‹ ë¹„êµ
===============================================================================

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ê¸°ì¡´ ë°©ì‹ (ì›ƒê¸´ ë™ì‘)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

v1.0.10 (í˜„ì¬)
  â†“ ì—…ë°ì´íŠ¸ ì²´í¬ â†’ v1.0.11 ë°œê²¬
  â†“ ë‹¤ìš´ë¡œë“œ & ì ìš©
  â†“ [ì¬ì‹œì‘ 1] â†’ v1.0.11 ì‹¤í–‰
  â†“ ì—…ë°ì´íŠ¸ ì²´í¬ â†’ v1.0.12 ë°œê²¬
  â†“ ë‹¤ìš´ë¡œë“œ & ì ìš©
  â†“ [ì¬ì‹œì‘ 2] â†’ v1.0.12 ì‹¤í–‰
  â†“ ì—…ë°ì´íŠ¸ ì²´í¬ â†’ v1.0.13 ë°œê²¬
  â†“ ë‹¤ìš´ë¡œë“œ & ì ìš©
  â†“ [ì¬ì‹œì‘ 3] â†’ v1.0.13 ì‹¤í–‰
  â†“ ì—…ë°ì´íŠ¸ ì²´í¬ â†’ v1.0.14 ë°œê²¬
  â†“ ë‹¤ìš´ë¡œë“œ & ì ìš©
  â†“ [ì¬ì‹œì‘ 4] â†’ v1.0.14 ì‹¤í–‰
  â†“ ì—…ë°ì´íŠ¸ ì²´í¬ â†’ v1.0.15 ë°œê²¬
  â†“ ë‹¤ìš´ë¡œë“œ & ì ìš©
  â†“ [ì¬ì‹œì‘ 5] â†’ v1.0.15 ì‹¤í–‰

ì´ ì¬ì‹œì‘: 5íšŒ ğŸ˜±
ì‚¬ìš©ì ê²½í—˜: ìµœì•…
ì†Œìš” ì‹œê°„: 5ë¶„+ (ê° ì¬ì‹œì‘ë§ˆë‹¤ ì•± ì´ˆê¸°í™”)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ìƒˆ ë°©ì‹ (ë‹¤ì¤‘ íŒ¨ì¹˜)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

v1.0.10 (í˜„ì¬)
  â†“ ì—…ë°ì´íŠ¸ ì²´í¬ â†’ patches[] ë°°ì—´ ë°›ìŒ
  â†“ 
  â”œâ”€ patch1 (v1.0.10 â†’ v1.0.11) ë‹¤ìš´ë¡œë“œ & ë³‘í•©
  â”œâ”€ patch2 (v1.0.11 â†’ v1.0.12) ë‹¤ìš´ë¡œë“œ & ë³‘í•©
  â”œâ”€ patch3 (v1.0.12 â†’ v1.0.13) ë‹¤ìš´ë¡œë“œ & ë³‘í•©
  â”œâ”€ patch4 (v1.0.13 â†’ v1.0.14) ë‹¤ìš´ë¡œë“œ & ë³‘í•©
  â””â”€ patch5 (v1.0.14 â†’ v1.0.15) ë‹¤ìš´ë¡œë“œ & ë³‘í•©
  â†“ 
  â†“ ìµœì¢… ê²€ì¦ & ì„¤ì¹˜
  â†“ [ì¬ì‹œì‘ 1] â†’ v1.0.15 ì‹¤í–‰ âœ…

ì´ ì¬ì‹œì‘: 1íšŒ ğŸ‰
ì‚¬ìš©ì ê²½í—˜: í›Œë¥­
ì†Œìš” ì‹œê°„: ~30ì´ˆ (ë‹¤ìš´ë¡œë“œ + ë³‘í•©, ì¬ì‹œì‘ 1íšŒë§Œ)


===============================================================================
## 9. í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤
===============================================================================

### 1. ë‹¨ì¼ íŒ¨ì¹˜ (í•˜ìœ„ í˜¸í™˜)
```
ì„œë²„ ì‘ë‹µ: patches ì—†ìŒ
ì˜ˆìƒ ë™ì‘: ê¸°ì¡´ ë¡œì§ (download_url ì‚¬ìš©)
í™•ì¸ì‚¬í•­: 
  - ì •ìƒ ë‹¤ìš´ë¡œë“œ
  - ì •ìƒ ì„¤ì¹˜
  - ì¬ì‹œì‘ 1íšŒ
```

### 2. ë‹¤ì¤‘ íŒ¨ì¹˜ (2ê°œ)
```
ì„œë²„ ì‘ë‹µ: 
  patches: [
    {v1.0.0 â†’ v1.0.1},
    {v1.0.1 â†’ v1.0.2}
  ]
ì˜ˆìƒ ë™ì‘: ìˆœì°¨ ë³‘í•© â†’ ì¬ì‹œì‘ 1íšŒ
í™•ì¸ì‚¬í•­:
  - ë¡œê·¸: "Multi-patch update: 2 patches"
  - ì§„í–‰ë¥ : 0% â†’ 50% â†’ 100%
  - ìµœì¢… ë²„ì „: v1.0.2
```

### 3. ë‹¤ì¤‘ íŒ¨ì¹˜ (5ê°œ)
```
ì„œë²„ ì‘ë‹µ: patches 5ê°œ
ì˜ˆìƒ ë™ì‘: ìˆœì°¨ ë³‘í•© â†’ ì¬ì‹œì‘ 1íšŒ
í™•ì¸ì‚¬í•­:
  - ê° íŒ¨ì¹˜ ë¡œê·¸ í™•ì¸
  - ì¤‘ê°„ ë²„ì „ ê±°ì¹˜ì§€ ì•Šê³  ìµœì¢… ë²„ì „ìœ¼ë¡œ
  - ë””ìŠ¤í¬ ê³µê°„ ì²´í¬
```

### 4. ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬
```
ì‹œë‚˜ë¦¬ì˜¤: patch3 ë‹¤ìš´ë¡œë“œ ì¤‘ ëŠê¹€
ì˜ˆìƒ ë™ì‘:
  - Exception throw
  - ì„ì‹œ í´ë” ì •ë¦¬
  - ê¸°ì¡´ ë²„ì „ ìœ ì§€
í™•ì¸ì‚¬í•­:
  - temp_multi_patch ì‚­ì œë¨
  - finalUpdateFolder ìƒì„± ì•ˆ ë¨
```

### 5. ì„œëª… ê²€ì¦ ì‹¤íŒ¨
```
ì‹œë‚˜ë¦¬ì˜¤: ì˜ëª»ëœ ì„œëª…
ì˜ˆìƒ ë™ì‘:
  - verifyUpdateSignature() ì‹¤íŒ¨
  - Exception throw
  - ë¡¤ë°±
í™•ì¸ì‚¬í•­:
  - ì—ëŸ¬ ë©”ì‹œì§€ ëª…í™•
  - ê¸°ì¡´ ë²„ì „ ìœ ì§€
```


===============================================================================
## 10. ì£¼ì˜ì‚¬í•­ ë° ì œì•½ì‚¬í•­
===============================================================================

### ì£¼ì˜ì‚¬í•­:
1. **node_modules ìˆ˜ì •**
   - acquisition-sdk.jsëŠ” node_modules ë‚´ë¶€
   - yarn install ì‹œ ë®ì–´ì”Œì›Œì§ˆ ìˆ˜ ìˆìŒ
   - â†’ patch-package ì‚¬ìš© ë˜ëŠ” í¬í¬ ê¶Œì¥

2. **ë©”ëª¨ë¦¬ ì‚¬ìš©**
   - ë‹¤ì¤‘ íŒ¨ì¹˜ ì‹œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€
   - 5ê°œ íŒ¨ì¹˜ Ã— ê° 10MB = ì•½ 50MB ì¶”ê°€

3. **ìˆœì°¨ ì²˜ë¦¬**
   - ë³‘ë ¬ ë‹¤ìš´ë¡œë“œ êµ¬í˜„ ì•ˆ ë¨
   - ì´ìœ : ìˆœì„œ ë³´ì¥, ë©”ëª¨ë¦¬ ì ˆì•½

4. **iOS ë¯¸êµ¬í˜„**
   - í˜„ì¬ Androidë§Œ êµ¬í˜„ë¨
   - iOSëŠ” TODO (ì‘ì—…ì§€ì‹œì„œ ìƒì„±ë¨)

### ì œì•½ì‚¬í•­:
1. patches ë°°ì—´ì€ **ìˆœì„œ ë³´ì¥** í•„ìš”
   - from_labelì´ ì´ì „ to_labelê³¼ ì¼ì¹˜í•´ì•¼ í•¨

2. diff manifestëŠ” **ìƒëŒ€ ê²½ë¡œ** ì‚¬ìš©
   - ì ˆëŒ€ ê²½ë¡œ ì‚¬ìš© ì‹œ ì—ëŸ¬

3. ì„œëª… ê²€ì¦ í™œì„±í™” ì‹œ **ëª¨ë“  íŒ¨ì¹˜ì— ì„œëª…** í•„ìš”

4. ìµœì†Œ Android SDK: API 21 (Lollipop)
   - TLS 1.2 ì§€ì› í•„ìš”


===============================================================================
## 11. ë¬¸ì˜ ë° ì°¸ê³ 
===============================================================================

### ê´€ë ¨ ë¬¸ì„œ:
- HANDOFF.md: ìƒì„¸ êµ¬í˜„ ë‚´ìš©
- TODO.md: iOS ì‘ì—… í•­ëª©
- README.md: ì‚¬ìš©ë²•

### ì½”ë“œ ë¦¬ë·° í¬ì¸íŠ¸:
1. downloadAndApplyMultiplePatches() ë¡œì§
2. ì—ëŸ¬ ì²˜ë¦¬ ë° ë¡¤ë°±
3. ë©”ëª¨ë¦¬ ìµœì í™” ê°€ëŠ¥ ì—¬ë¶€
4. ë³‘ë ¬ ë‹¤ìš´ë¡œë“œ ê³ ë ¤ ì‚¬í•­

### ì„±ëŠ¥ ì¸¡ì • í•„ìš”:
- íŒ¨ì¹˜ ê°œìˆ˜ë³„ ì†Œìš” ì‹œê°„
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ í”„ë¡œíŒŒì¼ë§
- ë„¤íŠ¸ì›Œí¬ ì‹¤íŒ¨ ë³µêµ¬ ì‹œë‚˜ë¦¬ì˜¤

### ì—°ë½ì²˜:
- êµ¬í˜„ì: ì½”ì½” (Coco)
- ë‚ ì§œ: 2025-12-01
- í”„ë¡œì íŠ¸: íƒ€ì´íƒ„ ë°°í¬ ì‹œìŠ¤í…œ

===============================================================================
